#compdef artisan

local _commands
local _get_commands

_get_commands() {
    php artisan | sed "1,/Available commands/d" | grep "^\s.*\s.*$" | sed 's/:/\\:/' | sed -E "s/ *([a-z:\\-]+) *(.*)/\1:\2/"
}

_commands=("${(@f)$(_get_commands)}")

_describe -t commands "artisan subcommand" _commands
